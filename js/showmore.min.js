(()=>{"use strict";var t=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t.classList.contains("_slide")||(t.classList.add("_slide"),t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.height="".concat(t.offsetHeight,"px"),t.offsetHeight,t.style.overflow="hidden",t.style.height=o?"".concat(o,"px"):"0px",t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,window.setTimeout((function(){t.hidden=!o,!o&&t.style.removeProperty("height"),t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),!o&&t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),t.classList.remove("_slide"),document.dispatchEvent(new CustomEvent("slideUpDone",{detail:{target:t}}))}),e))},e=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!t.classList.contains("_slide")){t.classList.add("_slide"),t.hidden=!t.hidden&&null,o&&t.style.removeProperty("height");var r=t.offsetHeight;t.style.overflow="hidden",t.style.height=o?"".concat(o,"px"):"0px",t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,t.offsetHeight,t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.height=r+"px",t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),window.setTimeout((function(){t.style.removeProperty("height"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),t.classList.remove("_slide"),document.dispatchEvent(new CustomEvent("slideDownDone",{detail:{target:t}}))}),e)}},o=document.querySelector(".description__more"),r=document.querySelector(".description__content p");o&&r&&o.addEventListener("click",(function(){r.classList.toggle("expanded"),r.classList.contains("expanded")?o.textContent="Скрыть":o.textContent="Показать еще"})),window.addEventListener("load",(function(o){var r,n,i=document.querySelectorAll("[data-showmore]");function s(t){t.forEach((function(t){a(t.itemsArray,t.matchMedia)}))}function a(o,r){o.forEach((function(o){!function(o){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(o=r?o.item:o).querySelectorAll("[data-showmore-content]"),i=o.querySelectorAll("[data-showmore-button]");n=Array.from(n).filter((function(t){return t.closest("[data-showmore]")===o}))[0],i=Array.from(i).filter((function(t){return t.closest("[data-showmore]")===o}))[0];var s=d(o,n);(r.matches||!r)&&s<l(n)?(t(n,0,o.classList.contains("_showmore-active")?l(n):s),i.hidden=!1):(e(n,0,s),i.hidden=!0)}(o,r)}))}function d(t,e){var o=0;if("items"===(t.dataset.showmore?t.dataset.showmore:"size"))for(var r=e.dataset.showmoreContent?e.dataset.showmoreContent:3,n=e.children,i=1;i<n.length&&(o+=n[i-1].offsetHeight,i!=r);i++);else o=e.dataset.showmoreContent?e.dataset.showmoreContent:120;return o}function l(t){var e,o=t.offsetHeight;t.style.removeProperty("height"),t.closest("[hidden]")&&((e=t.closest("[hidden]")).hidden=!1);var r=t.offsetHeight;return e&&(e.hidden=!0),t.style.height="".concat(o,"px"),r}function c(o){var i=o.target,l=o.type;if("click"===l){if(i.closest("[data-showmore-button]")){var c=i.closest("[data-showmore-button]").closest("[data-showmore]"),h=c.querySelector("[data-showmore-content]"),m=c.dataset.showmoreButton?c.dataset.showmoreButton:"300",y=d(c,h);h.classList.contains("_slide")||(c.classList.contains("_showmore-active")?t(h,m,y):e(h,m,y),c.classList.toggle("_showmore-active"))}}else"resize"===l&&(r&&r.length&&a(r),n&&n.length&&s(n))}i.length&&((r=Array.from(i).filter((function(t,e,o){return!t.dataset.showmoreMedia}))).length&&a(r),document.addEventListener("click",c),window.addEventListener("resize",c),(n=function(t,e){var o=Array.from(t).filter((function(t,o,r){if(t.dataset[e])return t.dataset[e].split(",")[0]}));if(o.length){var r=[];o.forEach((function(t){var o={},n=t.dataset[e].split(",");o.value=n[0],o.type=n[1]?n[1].trim():"max",o.item=t,r.push(o)}));var n=r.map((function(t){return"("+t.type+"-width: "+t.value+"px),"+t.value+","+t.type}));n=uniqArray(n);var i=[];if(n.length)return n.forEach((function(t){var e=t.split(","),o=e[1],n=e[2],s=window.matchMedia(e[0]),a=r.filter((function(t){if(t.value===o&&t.type===n)return!0}));i.push({itemsArray:a,matchMedia:s})})),i}}(i,"showmoreMedia"))&&n.length&&(n.forEach((function(t){t.matchMedia.addEventListener("change",(function(){a(t.itemsArray,t.matchMedia)}))})),s(n)))}))})();